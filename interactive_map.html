<!DOCTYPE html>
<html>
<head>
    
    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.css" />
    <script src="https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.js"></script>
    
        <script>
            L_NO_TOUCH = false;
            L_DISABLE_3D = false;
        </script>
    
    <style>html, body {width: 100%;height: 100%;margin: 0;padding: 0;}</style>
    <style>#map {position:absolute;top:0;bottom:0;right:0;left:0;}</style>
    <script src="https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.js"></script>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap-glyphicons.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.0/css/all.min.css"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/python-visualization/folium/folium/templates/leaflet.awesome.rotate.min.css"/>
    
            <meta name="viewport" content="width=device-width,
                initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
            <style>
                #map_e21899c942b5c46308b0c3d07b87da9e {
                    position: relative;
                    width: 100.0%;
                    height: 100.0%;
                    left: 0.0%;
                    top: 0.0%;
                }
                .leaflet-container { font-size: 1rem; }
            </style>
        
    
                <style>
                    .leaflet-image-layer {
                        /* old android/safari*/
                        image-rendering: -webkit-optimize-contrast;
                        image-rendering: crisp-edges; /* safari */
                        image-rendering: pixelated; /* chrome */
                        image-rendering: -moz-crisp-edges; /* firefox */
                        image-rendering: -o-crisp-edges; /* opera */
                        -ms-interpolation-mode: nearest-neighbor; /* ie */
                    }
                </style>
            
</head>
<body>
    
    
<script>
    document.addEventListener("DOMContentLoaded", function() {
        var mapEl = document.querySelector('.folium-map');
        var mapId = mapEl.id;
        var checkMap = setInterval(function() {
            if (window[mapId] || window['map_' + mapId]) {
                clearInterval(checkMap);
                var theMap = window[mapId] || window['map_' + mapId];
                L.Control.geocoder({
                    defaultMarkGeocode: false,
                    position: 'topright',
                    placeholder: 'Search city or place...',
                    collapsed: false,
                }).on('markgeocode', function(e) {
                    var bbox = e.geocode.bbox;
                    theMap.fitBounds(bbox);
                    L.marker(e.geocode.center).addTo(theMap).bindPopup(e.geocode.name).openPopup();
                }).addTo(theMap);
            }
        }, 100);
    });
</script>
    
            <div class="folium-map" id="map_e21899c942b5c46308b0c3d07b87da9e" ></div>
        

    <div id="health-sidebar" style="
        position: fixed; 
        top: 10px; 
        left: 50px; 
        width: 380px; 
        height: 85%; 
        background: rgba(255, 255, 255, 0.95); 
        z-index: 1000; 
        overflow-y: auto; 
        padding: 15px; 
        box-shadow: 0 0 15px rgba(0,0,0,0.3);
        border-radius: 8px;
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    ">
        <h2 style="margin-top: 0; color: #2e7d32;">ðŸŒ¿ Crop Health Report</h2>
        
        <div style="margin-bottom: 20px; text-align: center;">
            <h4 style="margin-bottom: 5px;">NDVI Analysis Plot</h4>
            <img src="ndvi_plot.png" alt="NDVI Plot" style="width: 100%; border-radius: 4px; border: 1px solid #ccc;">
        </div>

        <table style="width: 100%; border-collapse: collapse; font-size: 12px;">
            <thead>
                <tr style="background: #2e7d32; color: white;">
                    <th style="border: 1px solid #ccc; padding: 6px;">Zone</th>
                    <th style="border: 1px solid #ccc; padding: 6px;">NDVI</th>
                    <th style="border: 1px solid #ccc; padding: 6px;">Health</th>
                    <th style="border: 1px solid #ccc; padding: 6px;">Suggestions</th>
                </tr>
            </thead>
            <tbody>
                
        <tr class="Good">
            <td>(0,0)</td>
            <td>0.558</td>
            <td>Good</td>
            <td><ul><li>âœ… Maintain current practices.</li><li>ðŸŒ¾ Apply precision fertilizer.</li><li>ðŸ“… Plan harvest based on NDVI trends.</li></ul></td>
        </tr>
        
            </tbody>
        </table>
        <style>
            .Bad { background-color: #ffd6d6; color: #b71c1c; }
            .Moderate { background-color: #fff5cc; color: #f57f17; }
            .Good { background-color: #d6ffd6; color: #1b5e20; }
            #health-sidebar::-webkit-scrollbar { width: 8px; }
            #health-sidebar::-webkit-scrollbar-thumb { background: #ccc; border-radius: 4px; }
        </style>
        <button onclick="document.getElementById('health-sidebar').style.display='none'" style="
            margin-top: 15px;
            width: 100%;
            padding: 10px;
            background: #d32f2f;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-weight: bold;
        ">Close Dashboard</button>
    </div>
    

    <script>
        document.addEventListener("DOMContentLoaded", function() {
            var checkMap = setInterval(function() {
                if (window['map_e21899c942b5c46308b0c3d07b87da9e']) {
                    clearInterval(checkMap);
                    var theMap = window['map_e21899c942b5c46308b0c3d07b87da9e'];
                    var smiLayer = L.imageOverlay(
                        'smi_overlay.png',
                        [[18.649277, 73.889302], [18.649959, 73.890053]],
                        { opacity: 0.7, interactive: true }
                    );
                    smiLayer.addTo(theMap);
                }
            }, 100);
        });
    </script>
    
</body>
<script>
    
    
            var map_e21899c942b5c46308b0c3d07b87da9e = L.map(
                "map_e21899c942b5c46308b0c3d07b87da9e",
                {
                    center: [18.649618, 73.8896775],
                    crs: L.CRS.EPSG3857,
                    ...{
  "zoom": 14,
  "zoomControl": true,
  "preferCanvas": false,
}

                }
            );

            

        
    
            var tile_layer_8d8cb163bbb64ceef6c907fe988a4f7d = L.tileLayer(
                "https://mt1.google.com/vt/lyrs=y\u0026x={x}\u0026y={y}\u0026z={z}",
                {
  "minZoom": 0,
  "maxZoom": 18,
  "maxNativeZoom": 18,
  "noWrap": false,
  "attribution": "Google Hybrid",
  "subdomains": "abc",
  "detectRetina": false,
  "tms": false,
  "opacity": 1,
}

            );
        
    
            tile_layer_8d8cb163bbb64ceef6c907fe988a4f7d.addTo(map_e21899c942b5c46308b0c3d07b87da9e);
        
    
            var image_overlay_5f2247d84ee0cfae2ad02b7a3b542a6f = L.imageOverlay(
                "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAHCAYAAAA1WQxeAAAAOXRFWHRTb2Z0d2FyZQBNYXRwbG90bGliIHZlcnNpb24zLjcuMSwgaHR0cHM6Ly9tYXRwbG90bGliLm9yZy/bCgiHAAAACXBIWXMAAA9hAAAPYQGoP6dpAAAA40lEQVR4nCXMu0rDUACA4T/pOSRNY4XSglLBFi9Ih0Jx6aZjZyd9AF/GJxCcfQJ1EnTv4CYq0gtoSCskmsYmbdLkOPg9wKdds6/Oxufc5S4b1jr9qcvxVoO6vUP520c0G/BRsXHGEY+fM64eRuhiQK/zQqtqINon27wvPOq2xc3gi8iLULnC2V0ymSfoxdNDnn2HIIl5moRkaY4wBW9uSMUUiGlrj8vbe5JM4Q99NA1kUZLGKaOfBXq8+iVYrijoYKwZSEtSqpXoHtRwvAhhyTIXR02GQcjrpo1Z0Oi7czL1P/4BbPhbesHpDrYAAAAASUVORK5CYII=",
                [[18.649277, 73.889302], [18.649959, 73.890053]],
                {
  "opacity": 0.7,
  "interactive": true,
}
            );
        
    
            image_overlay_5f2247d84ee0cfae2ad02b7a3b542a6f.addTo(map_e21899c942b5c46308b0c3d07b87da9e);
        
    
            var layer_control_b0969a055cf5a087f746f1629966da04_layers = {
                base_layers : {
                    "https://mt1.google.com/vt/lyrs=y\u0026x={x}\u0026y={y}\u0026z={z}" : tile_layer_8d8cb163bbb64ceef6c907fe988a4f7d,
                },
                overlays :  {
                    "NDVI Layer" : image_overlay_5f2247d84ee0cfae2ad02b7a3b542a6f,
                },
            };
            let layer_control_b0969a055cf5a087f746f1629966da04 = L.control.layers(
                layer_control_b0969a055cf5a087f746f1629966da04_layers.base_layers,
                layer_control_b0969a055cf5a087f746f1629966da04_layers.overlays,
                {
  "position": "topright",
  "collapsed": true,
  "autoZIndex": true,
}
            ).addTo(map_e21899c942b5c46308b0c3d07b87da9e);

        
</script>
</html>