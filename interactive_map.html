<!DOCTYPE html>
<html>
<head>
    
    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.css" />
    <script src="https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.js"></script>
    
        <script>
            L_NO_TOUCH = false;
            L_DISABLE_3D = false;
        </script>
    
    <style>html, body {width: 100%;height: 100%;margin: 0;padding: 0;}</style>
    <style>#map {position:absolute;top:0;bottom:0;right:0;left:0;}</style>
    <script src="https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.js"></script>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap-glyphicons.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.0/css/all.min.css"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/python-visualization/folium/folium/templates/leaflet.awesome.rotate.min.css"/>
    
            <meta name="viewport" content="width=device-width,
                initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
            <style>
                #map_0e78b3fc22dd2f503f1708cfd47be62a {
                    position: relative;
                    width: 100.0%;
                    height: 100.0%;
                    left: 0.0%;
                    top: 0.0%;
                }
                .leaflet-container { font-size: 1rem; }
            </style>
        
    
                <style>
                    .leaflet-image-layer {
                        /* old android/safari*/
                        image-rendering: -webkit-optimize-contrast;
                        image-rendering: crisp-edges; /* safari */
                        image-rendering: pixelated; /* chrome */
                        image-rendering: -moz-crisp-edges; /* firefox */
                        image-rendering: -o-crisp-edges; /* opera */
                        -ms-interpolation-mode: nearest-neighbor; /* ie */
                    }
                </style>
            
</head>
<body>
    
    
<script>
    document.addEventListener("DOMContentLoaded", function() {
        var mapEl = document.querySelector('.folium-map');
        var mapId = mapEl.id;
        var checkMap = setInterval(function() {
            if (window[mapId] || window['map_' + mapId]) {
                clearInterval(checkMap);
                var theMap = window[mapId] || window['map_' + mapId];
                L.Control.geocoder({
                    defaultMarkGeocode: false,
                    position: 'topright',
                    placeholder: 'Search city or place...',
                    collapsed: false,
                }).on('markgeocode', function(e) {
                    var bbox = e.geocode.bbox;
                    theMap.fitBounds(bbox);
                    L.marker(e.geocode.center).addTo(theMap).bindPopup(e.geocode.name).openPopup();
                }).addTo(theMap);
            }
        }, 100);
    });
</script>
    
            <div class="folium-map" id="map_0e78b3fc22dd2f503f1708cfd47be62a" ></div>
        

    <div id="health-sidebar" style="
        position: fixed; 
        top: 10px; 
        left: 50px; 
        width: 380px; 
        height: 85%; 
        background: rgba(255, 255, 255, 0.95); 
        z-index: 1000; 
        overflow-y: auto; 
        padding: 15px; 
        box-shadow: 0 0 15px rgba(0,0,0,0.3);
        border-radius: 8px;
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    ">
        <h2 style="margin-top: 0; color: #2e7d32;">ðŸŒ¿ Crop Health Report</h2>
        
        <div style="margin-bottom: 20px; text-align: center;">
            <h4 style="margin-bottom: 5px;">NDVI Analysis Plot</h4>
            <img src="ndvi_plot.png" alt="NDVI Plot" style="width: 100%; border-radius: 4px; border: 1px solid #ccc;">
        </div>

        <table style="width: 100%; border-collapse: collapse; font-size: 12px;">
            <thead>
                <tr style="background: #2e7d32; color: white;">
                    <th style="border: 1px solid #ccc; padding: 6px;">Zone</th>
                    <th style="border: 1px solid #ccc; padding: 6px;">NDVI</th>
                    <th style="border: 1px solid #ccc; padding: 6px;">Health</th>
                    <th style="border: 1px solid #ccc; padding: 6px;">Suggestions</th>
                </tr>
            </thead>
            <tbody>
                
        <tr class="Good">
            <td>(0,0)</td>
            <td>0.609</td>
            <td>Good</td>
            <td><ul><li>âœ… Maintain current practices.</li><li>ðŸŒ¾ Apply precision fertilizer.</li><li>ðŸ“… Plan harvest based on NDVI trends.</li></ul></td>
        </tr>
        
        <tr class="Good">
            <td>(10,0)</td>
            <td>0.674</td>
            <td>Good</td>
            <td><ul><li>âœ… Maintain current practices.</li><li>ðŸŒ¾ Apply precision fertilizer.</li><li>ðŸ“… Plan harvest based on NDVI trends.</li></ul></td>
        </tr>
        
        <tr class="Good">
            <td>(0,10)</td>
            <td>0.516</td>
            <td>Good</td>
            <td><ul><li>âœ… Maintain current practices.</li><li>ðŸŒ¾ Apply precision fertilizer.</li><li>ðŸ“… Plan harvest based on NDVI trends.</li></ul></td>
        </tr>
        
        <tr class="Good">
            <td>(10,10)</td>
            <td>0.597</td>
            <td>Good</td>
            <td><ul><li>âœ… Maintain current practices.</li><li>ðŸŒ¾ Apply precision fertilizer.</li><li>ðŸ“… Plan harvest based on NDVI trends.</li></ul></td>
        </tr>
        
            </tbody>
        </table>
        <style>
            .Bad { background-color: #ffd6d6; color: #b71c1c; }
            .Moderate { background-color: #fff5cc; color: #f57f17; }
            .Good { background-color: #d6ffd6; color: #1b5e20; }
            #health-sidebar::-webkit-scrollbar { width: 8px; }
            #health-sidebar::-webkit-scrollbar-thumb { background: #ccc; border-radius: 4px; }
        </style>
        <button onclick="document.getElementById('health-sidebar').style.display='none'" style="
            margin-top: 15px;
            width: 100%;
            padding: 10px;
            background: #d32f2f;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-weight: bold;
        ">Close Dashboard</button>
    </div>
    

    <script>
        document.addEventListener("DOMContentLoaded", function() {
            var checkMap = setInterval(function() {
                if (window['map_0e78b3fc22dd2f503f1708cfd47be62a']) {
                    clearInterval(checkMap);
                    var theMap = window['map_0e78b3fc22dd2f503f1708cfd47be62a'];
                    var smiLayer = L.imageOverlay(
                        'smi_overlay.png',
                        [[18.63979, 73.903812], [18.641167, 73.905212]],
                        { opacity: 0.7, interactive: true }
                    );
                    smiLayer.addTo(theMap);
                    
                    // Add to layer control if it exists
                    if (window['layer_control_7704c82fe5d3717c868dd4c9b773df26']) {
                        window['layer_control_7704c82fe5d3717c868dd4c9b773df26'].addOverlay(smiLayer, "SMI Layer");
                    } else if (typeof layer_control_7704c82fe5d3717c868dd4c9b773df26 !== 'undefined') {
                        layer_control_7704c82fe5d3717c868dd4c9b773df26.addOverlay(smiLayer, "SMI Layer");
                    }
                }
            }, 100);
        });
    </script>
    
</body>
<script>
    
    
            var map_0e78b3fc22dd2f503f1708cfd47be62a = L.map(
                "map_0e78b3fc22dd2f503f1708cfd47be62a",
                {
                    center: [18.6404785, 73.90451200000001],
                    crs: L.CRS.EPSG3857,
                    ...{
  "zoom": 14,
  "zoomControl": true,
  "preferCanvas": false,
}

                }
            );

            

        
    
            var tile_layer_631ce24ee6341ec473e43a29acb9caff = L.tileLayer(
                "https://mt1.google.com/vt/lyrs=y\u0026x={x}\u0026y={y}\u0026z={z}",
                {
  "minZoom": 0,
  "maxZoom": 18,
  "maxNativeZoom": 18,
  "noWrap": false,
  "attribution": "Google Hybrid",
  "subdomains": "abc",
  "detectRetina": false,
  "tms": false,
  "opacity": 1,
}

            );
        
    
            tile_layer_631ce24ee6341ec473e43a29acb9caff.addTo(map_0e78b3fc22dd2f503f1708cfd47be62a);
        
    
            map_0e78b3fc22dd2f503f1708cfd47be62a.fitBounds(
                [[18.63979, 73.903812], [18.641167, 73.905212]],
                {}
            );
        
    
        function geo_json_bb633feb933784ca524793320ac18261_styler(feature) {
            switch(feature.id) {
                default:
                    return {"color": "red", "fillColor": "none", "weight": 2};
            }
        }

        function geo_json_bb633feb933784ca524793320ac18261_onEachFeature(feature, layer) {
            layer.on({
            });
        };
        var geo_json_bb633feb933784ca524793320ac18261 = L.geoJson(null, {
                onEachFeature: geo_json_bb633feb933784ca524793320ac18261_onEachFeature,
            
                style: geo_json_bb633feb933784ca524793320ac18261_styler,
            ...{
}
        });

        function geo_json_bb633feb933784ca524793320ac18261_add (data) {
            geo_json_bb633feb933784ca524793320ac18261
                .addData(data);
        }
            geo_json_bb633feb933784ca524793320ac18261_add({"features": [{"geometry": {"coordinates": [[[73.904627, 18.641167], [73.904117, 18.641141], [73.903812, 18.639805], [73.905212, 18.63979], [73.905163, 18.641014], [73.904627, 18.641167]]], "type": "Polygon"}, "id": "0", "properties": {}, "type": "Feature"}], "type": "FeatureCollection"});

        
    
            geo_json_bb633feb933784ca524793320ac18261.addTo(map_0e78b3fc22dd2f503f1708cfd47be62a);
        
    
            var image_overlay_091ca7833c7f2839e98fe9f58d71dcdb = L.imageOverlay(
                "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAAAOXRFWHRTb2Z0d2FyZQBNYXRwbG90bGliIHZlcnNpb24zLjcuMSwgaHR0cHM6Ly9tYXRwbG90bGliLm9yZy/bCgiHAAAACXBIWXMAAA9hAAAPYQGoP6dpAAAC4UlEQVR4nDWQS2tcZQCGn+87l0zOnLkkzTSNk0ntaFvbZooSsKSgpQutYEV3ShC0CKUu+jekG3dmU0FBECoVLEItoiItNm2VGJzpomnshUmTzK1nJp3Lucw533ERfH/A8/C8QtW/jMkVie/f4vfXvwHgwJxN/tM5xPHjbJ1ZZCQzwmjeprXSoHBxAfeLXyjkJEI7Px/nS3t4fOYcAFfS53FdOHIISotvIV45RnzzOuLEG0Q/XEH74EPih8sspTzEwrWP42LG4O19zwHw8tcrtP/cIrknSeLIBPoLEzA9CaaBODDPcuMPXho/SrK1iVCbizHBgAdZHYCiE8CTOmRT0GrT/75CrGLs9w4jXp2H0TSfVa5S7UbohAHB5SUKgFGaIlxrEHsRwaMOWspEGhrrN9ZJrLYpnO0h3/+IEU1w8fJdZNxo8v+2v6sQexHtWxt4bZ+h4+Hcd7ByFqZt0L9eJYpDPr+9xYMLC8jwzhrC0gkedehu9IjqfSo3OrhPXQCePekxMTeJnbcB0NbL5DMJnr+9iq6fmN3Rqgq7NEnYCzh6chzTNlChwkzqeBs9ElNJ+tUu1s1/uHR6HnV1GV2kdoiqG2CWcjz+qkwyZ9FpDBgOhmiGpFFpYtX6hG6I/W+H4tIqtUv3kHG/T3jtDkQxqhfQaYZIQyKkIAoipKGR2ZtGDRVSlwzW2uD5CE0gw9/KeOUm5rEZaj89pNGC7mYP13GxchahH6KN6KQLKcZezNKr9WF2P7l396Prrx0i3PwLVetQvTdgZnrnAitnoYYKpx7i1J8yPqmTzFmkCynCn/8mcjykmJrBnJ0gcjzsJGTySVq1kMiPAMhkBdOHU1i7Rhm6IWqoEJZB4pNTyHhlBVnYjUxo2GM6hqWzt5TGsA38Zz6xijFsk2wxi2kb+Ns+atvH//ZX9KjqoL85x/DHuwT9nb6xkwW8cpPdp/ahWi6t5Rqpg+NkLJ3EO7PE603UYMh/M0BDn6/hjzgAAAAASUVORK5CYII=",
                [[18.63979, 73.903812], [18.641167, 73.905212]],
                {
  "opacity": 0.7,
  "interactive": true,
}
            );
        
    
            image_overlay_091ca7833c7f2839e98fe9f58d71dcdb.addTo(map_0e78b3fc22dd2f503f1708cfd47be62a);
        
    
            var layer_control_7704c82fe5d3717c868dd4c9b773df26_layers = {
                base_layers : {
                    "https://mt1.google.com/vt/lyrs=y\u0026x={x}\u0026y={y}\u0026z={z}" : tile_layer_631ce24ee6341ec473e43a29acb9caff,
                },
                overlays :  {
                    "Selection Area" : geo_json_bb633feb933784ca524793320ac18261,
                    "NDVI Layer" : image_overlay_091ca7833c7f2839e98fe9f58d71dcdb,
                },
            };
            let layer_control_7704c82fe5d3717c868dd4c9b773df26 = L.control.layers(
                layer_control_7704c82fe5d3717c868dd4c9b773df26_layers.base_layers,
                layer_control_7704c82fe5d3717c868dd4c9b773df26_layers.overlays,
                {
  "position": "topright",
  "collapsed": true,
  "autoZIndex": true,
}
            ).addTo(map_0e78b3fc22dd2f503f1708cfd47be62a);

        
</script>
</html>